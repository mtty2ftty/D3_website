<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Interactive ONS radial chart</title>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <div class="app">
      <!-- Left pane: 5-card walkthrough -->
      <aside class="side-pane" aria-label="Chart explanation">
        <div class="side-logo" aria-label="Logo">
  <!-- Inline SVG -->
  <?xml version="1.0" encoding="UTF-8"?>
  <svg id="a" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 395.832 359.519" role="img" aria-hidden="true">
<path d="M386.742,1.557h-180.389c14.842,118.9,12.585,222.111-37.729,356.391h180.375c44.53-122.668,54.195-237.59,37.743-356.391" fill="#009da6"/> <path d="M1.554,1.557h204.799c14.843,118.9,12.6,222.111-37.729,356.391H1.554V1.557Z" fill="#2f469c"/> <path d="M240.512,109.847c3.457-2.088,7.21-3.457,10.949-3.528,3.146.057,5.545,1.539,5.502,3.627.015,1.495-2.906,2.892-6.758,2.948-4.783-.084-7.295-1.862-9.693-3.047M206.127,219.224c1.439.155,2.864.324,4.303.282,4.375-.155,8.706-1.299,13.08-1.228,6.871.127,13.672,1.468,20.543,1.567,8.748.126,19.514.79,26.117-1.144-1.086-6.024-9.2-5.178-17.341-4.98-9.904.014-15.943-7.266-19.612-15.365-3.09-6.505-2.511-16.833-1.439-22.025,2.13-4.318,24.635,1.848,37.884-4.247,5.616-4.176-1.101-8.466-.832-12.614-.17-4.289,3.951-4.924,3.499-7.493-.903-2.877-7.436-2.214-7.393-3.978,1.692-1.919,7.421-.846,8.931-3.781,1.58-3.429-3.048-7.733-2.878-10.103,2.934-1.975,9.368-2.963,8.846-6.984-.409-6.646-11.711-11.837-12.557-21.023-.014-4.134,4.176-4.981,4.628-8.015.945-6.334,1.721-12.909-.593-19.188,2.37-.847,2.61-4.953.423-6.759,1.467-2.356,1.086-6.998-1.171-7.562-.099-1.03.72-1.863.424-2.85-.438-1.369-.523-3.33-2.442-3.105-.282-.761.96-2.003.41-2.61-.678-1.848-2.032-2.201-4.374-1.693.211-1.552.888-3.203-2.272-4.36-.762-.55-.903,1.454-1.707.96-1.058-.663.663-2.286-.734-3.006-1.467-.804-2.032,1.877-3.076,1.129-.988-.719,2.766-3.428-2.525-4.275-1.75-.818-1.482,2.949-3.189,2.032-1.115-.593,2.991-2.046.042-4.586-3.414-1.792-2.187,1.115-3.414,1.425-1.002.141.043-3.64-3.415-.24-.635-.846,1.411-2.173.452-3.527-1.002-1.086-2.456,1.115-3.556.155-.593-.522,1.623-1.397,1.171-2.201,0-.79-.917-1.877-1.678-1.679-2.413-1.227-3.302,5.432-5.49,4.402-1.34-3.245,2.103-1.058,2.625-2.427.48-1.594-.466-4.148-1.34-3.626-2.949,2.131-5.588,4.924-6.321,8.889-.72.635-.79-1.566-.48-2.483.607-2.949,6.01-4.755,4.176-6.829-1.157-1.044-4.106.805-5.601,2.229-3.471,2.343.282,2.568-.593,3.302-1.029.86-2.624,1.722-2.836.395-.324-2.06,5.517-3.824,2.653-7.295-3.796-.07-2.23,3.669-3.965,3.443,1.044-2.582-.028-4.839-2.06-3.809-3.062,2.299.367,5.531-.888,8.183-.396.79-1.313-.945-1.454-1.806.028-1.891,1.848-5.32.028-5.587-7.436,1.199-3.019,7.068-5.869,9.425-1.694-.48.423-3.415.649-5.108.324-2.469-2.738-4.473-3.726-3.569,5.137,62.278,6.618,119.366-4.063,185.342" fill="#2f469c"/> <path d="M152.652,218.49c6.082-5.306,14.646-3.937,22.519-5.814,7.76-2.087,15.365-4.176,17.524-19.908,1.482-.268,1.792-1.425,2.695-2.144,0-4.487-.437-10.554.508-14.181-2.159.889-3.372,3.796-6.251,2.977-.395-1.481.861-2.017.466-3.484-1.087-.904-2.878-1.369-3.302-3.062-.395-1.453,2.004-.861,1.975-3.767-.817-1.44-.014-4.022-1.114-4.6-2.3.621-3.514,4.021-4.953,4.064-1.735.281-1.947-.932-1.735-2.583,0-1.622,1.369-2.807.282-5.206-1.242,0-4.007-1.51-4.557-.367.903,1.256,1.58,2.159,1.199,6.067-2.257,1.143-1.876-1.58-3.498-.861-.89.551-1.355,1.863-2.47,1.327-.508-1.609,1.368-3.655.352-5.334-1.424.705-1.424,1.707-2.864,1.284-1.199-1.58-.366-4.882-1.255-5.107-1.228-.325-4.671,5.305-9.2,2.201.395-5.037,9.044-4.177,9.722-5.969.367-1.792,3.597-4.388,1.086-5.39-2.145-.86-7.972,7.436-10.765,4.855-1.581-3.048,2.723-3.853,2.652-6.463.141-2.088-2.314-3.316-4.811-3.231-1.947.931.931,8.537-4.092,9.044-3.485-1.284-.085-4.529-1.481-6.828-3.33-1.073-1.651-4.445-2.625-5.024-1.255.706-2.512,3.527-5.277,3.09-.86-1.481.861-3.09,1.228-4.712-1.947-2.145-6.11-.861-6.391-2.356-.438-1.948,5.093-2.173,4.655-4.177-2.328-2.935-4.811.508-7.21,0,.889-1.439,3.147-2.229,2.046-3.513-1.721-1.764-4.952.635-5.107-.621-.565-1.679,3.809-1.863,4.599-4.049-2.328-1.369-5.672,1.213-5.714-.212-.169-1.481,1.665-1.665,3.287-2.201-1.157-1.072-2.017-2.018-1.594-2.949,1.538-1.072,5.898-.494,6.067-1.792-2.864-2.511-9.185-2.737-8.184-5.813,1.539-2.512,6.392.86,7.718.282-.07-2.794-4.218-3.951-4.007-5.898.424-1.961,6.025-1.65,8.607-5.926-1.255-.352-3.372-.564-4.134-1.933-2.864.72-1.58,4.529-7.252,2.371-1.495-2.484,1.298-5.038,3.809-6.434,2.949-1.933,7.69-1.581,8.692-3.725-3.118-4.049-13.94,2.511-17.27-3.189,1.51-1.707,4.008-.875,6.166-1.778,0-1.791-2.074-2.723-1.284-4.444,2.37-.084,5.178,4.642,5.897,4.515.805-1.072-.719-3.655.523-4.218,2.073-.029,3.993,6.123,7.111,5.205-.776-1.636-2.13-1.636-2.004-4.176,1.143-.691,4.67,2.075,4.6.042-1.792-1.071-3.598-2.159-5.39-3.245,1.256-1.241,2.441-1.791,3.697-3.048-3.556.029-7.972-3.597-9.087-6.645,4.346-2.046,9.849,1.721,12.755,5.277,3.993.677,4.812-1.509,6.561-1.538-1.919-.875-4.373-4.021-4.952-6.109-1.862,2.765-7.394-.071-8.254-3.203,3.231-1.454,5.46-2.145,8.55,1.834,2.766-.889,9.905.861,10.314-.677.028-1.722-1.369-3.302-2.709-3.372-4.557,2.328-9.185-1.369-11.443-5.277,10.837-.692,9.115,2.356,10.272,3.979,3.189-3.415,7.252-1.947,7.21-3.415-.042-.903-7.831-1.001-5.714-3.697,3.992-3.216,7.774,2.935,9.396,1.792-.169-3.824-5.742-4.938-1.199-8.423,1.27-.692,1.651,4.543,4.092,4.303,1.904-.296,1.002-5.7,3.372-5.178,3.344,1.524-1.848,4.487-1.157,5.178.649,1.369,2.794,2.385,3.993,2.23.72-3.81,2.653-3.556,2.413-5.531-1.213-4.177-.198-7.393,3.654-8,3.472.183-3.852,6.8,1.058,8.084,1.002.015,2.328-1.142,2.427-1.961.212-3.174.339-7.026,2.441-7.125,1.679-.141-.339,2.44.183,5.432.212,1.157,3.302,1.369,4.318.353-2.384-1.044-1.425-6.956-.268-7.055.832-.056,1.453,2.413,1.539,4.684,2.398-1.397,2.482-.747,3.117.649.607,1.284,2.554,1.327,3.754.904,1.678-3.077-3.894-5.461-1.524-7.789,1.312-.691,2.638-.367,3.428.72.875,2.257-1.256,2.652,2.3,6.405.649-1.044,1.848-.508,1.735-1.213-1.848-2.582-2.878-5.574,1.073-7.817,5.136,62.265,6.631,119.366-4.064,185.328-8.494.945-17.637-1.171-23.845-.579-11.838,1.13-10.765-.436-13.658-.45-3.513-.043-5.517,1.171-15.972.31" fill="#009da6"/> <path d="M328.852,237.312v12.416c-5.983-.973-9.651-1.439-11.076-1.439-7.478,0-11.203,1.609-11.203,4.826,0,1.608,1.326,3.315,3.979,5.178,1.171.889,4.19,2.653,9.086,5.305,4.91,2.639,8.381,4.938,10.456,6.857,3.555,3.542,5.347,7.676,5.347,12.417,0,5.87-2.385,10.441-7.154,13.742-4.783,3.302-11.189,4.953-19.231,4.953-3.795,0-9.877-.931-18.159-2.78v-13.263c8.466,2.653,14.73,3.993,18.794,3.993,2.399,0,4.487-.564,6.279-1.637,1.778-1.086,2.666-2.595,2.666-4.515,0-1.692-1.185-3.371-3.598-5.065-1.17-.804-4.317-2.582-9.453-5.305-10.54-5.63-15.802-12.247-15.802-19.88,0-5.32,2.398-9.496,7.21-12.544,4.472-2.892,10.455-4.345,17.919-4.345,3.724,0,8.381.366,13.94,1.086" fill="#fff"/> <path d="M248.23,301.567c-9.722,0-17.68-3.09-23.902-9.27-6.236-6.208-9.341-14.11-9.341-23.746,0-9.721,3.063-17.538,9.158-23.45,6.109-5.898,14.109-8.861,24.085-8.861,9.763,0,17.735,3.006,23.83,8.974,6.096,5.982,9.129,13.771,9.129,23.337,0,9.312-3.061,17.157-9.199,23.506-6.152,6.335-14.067,9.51-23.76,9.51M231.792,268.551c0,5.785,1.453,10.525,4.36,14.222,2.92,3.682,6.914,5.531,12.078,5.531,5.291,0,9.369-1.876,12.19-5.658,2.653-3.541,3.979-8.24,3.979-14.095,0-12.713-5.39-19.048-16.169-19.048-5.404,0-9.481,1.693-12.276,5.122-2.779,3.414-4.162,8.056-4.162,13.926" fill="#fff"/> <path d="M202.049,237.312v12.416c-5.982-.973-9.665-1.439-11.076-1.439-7.464,0-11.203,1.609-11.203,4.826,0,1.608,1.327,3.315,3.979,5.178,1.171.889,4.191,2.653,9.087,5.305,4.91,2.639,8.381,4.938,10.455,6.857,3.569,3.542,5.347,7.676,5.347,12.417,0,5.87-2.384,10.441-7.153,13.742-4.769,3.302-11.189,4.953-19.231,4.953-3.81,0-9.863-.931-18.174-2.78v-13.263c8.48,2.653,14.745,3.993,18.794,3.993,2.413,0,4.501-.564,6.293-1.637,1.792-1.086,2.667-2.595,2.667-4.515,0-1.692-1.199-3.371-3.598-5.065-1.171-.804-4.318-2.582-9.453-5.305-10.54-5.63-15.802-12.247-15.802-19.88,0-5.32,2.397-9.496,7.209-12.544,4.472-2.892,10.455-4.345,17.919-4.345,3.725,0,8.381.366,13.94,1.086" fill="#fff"/> <path d="M108.221,325.792l-20.543,1.214c1.665-15.422,2.498-25.919,2.498-31.464v-25.313c0-7.633-1.257-18.074-3.74-31.337l15.803-1.199c.494,1.848,1.242,4.811,2.243,8.903,2.907-3.288,5.391-5.587,7.464-6.858,3.725-2.342,8.254-3.499,13.574-3.499,8.705,0,15.774,3.175,21.206,9.524,5.446,6.335,8.156,14.463,8.156,24.353,0,9.157-2.667,16.692-7.972,22.604-5.291,5.897-12.191,8.861-20.656,8.861-4.389,0-8.283-.677-11.683-2.047-1.58-.564-4.12-1.89-7.591-3.992v7.224c0,9.17.409,16.846,1.241,23.026M105.724,270.229c0,12.049,5.474,18.089,16.423,18.089,5.15,0,9.088-1.623,11.825-4.882,2.737-3.259,4.105-7.648,4.105-13.207,0-6.109-1.551-11.09-4.67-14.942-3.104-3.866-7.097-5.784-12.008-5.784-5.135,0-9.029,1.862-11.696,5.601-2.652,3.739-3.979,8.79-3.979,15.125" fill="#fff"/> <path d="M73.498,299.521h-21.771c.41-7.788.607-15.196.607-22.18v-33.51c0-11.57-.818-21.615-2.483-30.138h21.785c0,1.764-.127,5.376-.325,10.85-.198,5.475-.31,9.948-.31,13.503v31.337c0,7.958.832,18.018,2.497,30.138" fill="#fff"/> <path d="M328.852,237.312v12.416c-5.969-.959-9.665-1.453-11.076-1.453-7.464,0-11.203,1.623-11.203,4.826,0,1.608,1.326,3.329,3.979,5.192,1.171.875,4.19,2.639,9.086,5.291,4.91,2.653,8.396,4.952,10.456,6.871,3.569,3.542,5.362,7.676,5.362,12.417,0,5.87-2.386,10.441-7.169,13.742-4.769,3.302-11.174,4.938-19.217,4.938-3.809,0-9.876-.916-18.173-2.765v-13.263c8.466,2.653,14.73,3.979,18.794,3.979,2.413,0,4.487-.536,6.279-1.623,1.792-1.086,2.681-2.595,2.681-4.529,0-1.678-1.2-3.372-3.613-5.051-1.17-.804-4.303-2.582-9.453-5.305-10.54-5.63-15.802-12.261-15.802-19.894,0-5.306,2.398-9.468,7.21-12.53,4.486-2.892,10.455-4.345,17.919-4.345,3.739,0,8.394.366,13.94,1.086" fill="#fff"/> <path d="M231.792,268.536c0,5.785,1.439,10.54,4.359,14.223,2.921,3.696,6.914,5.545,12.064,5.545,5.305,0,9.383-1.876,12.205-5.658,2.652-3.541,3.964-8.24,3.964-14.11,0-12.698-5.389-19.033-16.169-19.033-5.404,0-9.467,1.693-12.261,5.108-2.78,3.428-4.162,8.07-4.162,13.925M248.216,301.567c-9.707,0-17.665-3.09-23.887-9.285-6.223-6.193-9.341-14.095-9.341-23.746,0-9.721,3.048-17.538,9.143-23.435,6.124-5.912,14.124-8.861,24.085-8.861,9.778,0,17.735,2.991,23.831,8.974,6.096,5.982,9.143,13.756,9.143,23.322,0,9.327-3.062,17.158-9.2,23.507-6.151,6.349-14.067,9.524-23.774,9.524" fill="#fff"/> <path d="M202.035,237.312v12.416c-5.968-.959-9.665-1.453-11.076-1.453-7.464,0-11.203,1.623-11.203,4.826,0,1.608,1.327,3.329,3.979,5.192,1.171.875,4.191,2.639,9.087,5.291,4.91,2.653,8.395,4.952,10.455,6.871,3.569,3.542,5.348,7.676,5.348,12.417,0,5.87-2.371,10.441-7.154,13.742-4.769,3.302-11.175,4.938-19.217,4.938-3.81,0-9.877-.916-18.174-2.765v-13.263c8.466,2.653,14.731,3.979,18.794,3.979,2.413,0,4.487-.536,6.279-1.623,1.792-1.086,2.681-2.595,2.681-4.529,0-1.678-1.199-3.372-3.612-5.051-1.171-.804-4.304-2.582-9.453-5.305-10.54-5.63-15.803-12.261-15.803-19.894,0-5.306,2.398-9.468,7.21-12.53,4.487-2.892,10.455-4.345,17.919-4.345,3.739,0,8.381.366,13.94,1.086" fill="#fff"/> <path d="M105.724,270.229c0,12.049,5.474,18.074,16.423,18.074,5.15,0,9.073-1.622,11.825-4.882,2.736-3.245,4.105-7.647,4.105-13.192,0-6.109-1.566-11.09-4.67-14.942-3.119-3.866-7.111-5.799-12.008-5.799-5.149,0-9.044,1.877-11.696,5.616-2.667,3.725-3.979,8.776-3.979,15.125M108.207,325.792l-20.529,1.2c1.665-15.422,2.483-25.906,2.483-31.45v-25.313c0-7.647-1.242-18.089-3.739-31.337l15.817-1.214c.494,1.863,1.241,4.826,2.229,8.918,2.907-3.288,5.405-5.588,7.478-6.858,3.725-2.342,8.254-3.499,13.559-3.499,8.706,0,15.789,3.175,21.221,9.524,5.432,6.335,8.142,14.462,8.142,24.339,0,9.171-2.653,16.691-7.958,22.603-5.306,5.912-12.191,8.861-20.657,8.861-4.402,0-8.296-.677-11.697-2.046-1.566-.564-4.105-1.89-7.59-3.978v7.223c0,9.171.409,16.833,1.241,23.027" fill="#fff"/> <path d="M73.498,299.507h-21.771c.41-7.788.621-15.182.621-22.166v-33.51c0-11.57-.832-21.63-2.497-30.152h21.785c0,1.764-.113,5.39-.31,10.864-.213,5.475-.325,9.948-.325,13.503v31.323c0,7.972.832,18.004,2.497,30.138" fill="#fff"/> <path d="M386.745,1.571H1.571v356.377h347.431c44.516-122.653,54.195-237.59,37.743-356.377Z" fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="3.142"/> </svg>  </svg>
</div>

        <div class="card-carousel">
          <div class="card-stage">
            <section class="info-card active">
              <h1>Interactive ONS radial chart</h1>
              <p>This chart represents a hierarchy. Each segment size is proportional to its value, and colour indicates score banding.</p>
              <p>Use the dropdown on the chart to switch score views.</p>
              <h2>Navigation</h2>
              <p>The buttons at the bottom of this pane will take you through the key points we've found</p>
              <h2>How to read it</h2>
              <p>Start from the centre (Level 1) and move outward through levels. Each ring represents a deeper level in the hierarchy.</p>
              <p>Click segments to explore (where enabled).</p>
              <h2>Colour meaning</h2>
              <p>Colours map to score thresholds. The legend in the chart panel shows the bands for the current score selection.</p>
              <h2>Labels</h2>
              <p>Labels appear on segments where space allows. As the chart scales down, labels scale with it to preserve proportion.</p>
              <h2>Tips</h2>
              <p>If youâ€™re presenting this, keep the chart visible while stepping through these cards using Back / Next.</p>
              <p>On smaller screens, the cards area scrolls if needed.</p>
            </section>

            <section class="info-card">
              <h1>Region 1</h1>
              <p>Region1 scores low on pride, but there are pockets of positivity in some Trusts</p>
            </section>

            <section class="info-card">
              <h1>NHS England</h1>
              <p>NHS England has moderately company advocacy scores but there is a clear split between low scores in Region 1 and high scores in other regions.</p>
            </section>

            <section class="info-card">
              <h1>Region 3</h1>
              <p>Region 3 has consistent low scores on the senior leader metric.</p>
            </section>

            <section class="info-card">
              <h1>Summary</h1>
              <p>Explore further by clicking on segments of interest. Use the centre circle to go back a level and the reset button to completely reset the chart.</p>
            </section>
          </div>

          <div class="card-nav" aria-label="Card navigation">
            <button type="button" id="prevCard">Back</button>

            <div class="card-dots" id="cardDots" aria-label="Card position"></div>

            <button type="button" id="nextCard">Next</button>
          </div>
        </div>
      </aside>

      <!-- Right pane: chart -->
      <main class="chart-pane" aria-label="Chart">
        <div class="chart-overlay" aria-label="Chart legend, controls and status">
          <div class="chart-controls">
            <label for="scoreSelector">Score:</label>
            <select id="scoreSelector">
              <option value="Score1">Score1</option>
              <option value="Score2">Score2</option>
            </select>
            <button id="resetButton">Reset</button>
            
          </div>

          <div class="chart-status" id="chartStatus">Currently showing levels 1 to 3</div>
          <div class="chart-legend" id="chartLegend"></div>
          <div class="chart-label" id="chart-label"></div>
          <!--<button id="downloadSVG">Download SVG</button> -->
        </div>

        <div id="chart"></div>

      <div class="download-buttons" aria-label="Download buttons">
        <button id="downloadImageBtn" type="button">Download Image</button>
      </div>

      </main>
    </div>

    <script src="https://d3js.org/d3.v6.js"></script>
    <script src="script.js"></script>
  </body>
</html>
